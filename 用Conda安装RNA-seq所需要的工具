#ubuntu20.04系统    rm -r 就算有文件也删除 
#miniconda安装

cd
mkdir miniconda
cd miniconda
~/miniconda$ wget -c https://mirrors.tuna.tsinghua.edu.cn/anaconda/miniconda/Miniconda3-latest-Linux-x86_64.sh

#或自己下载后 https://mirrors.tuna.tsinghua.edu.cn/anaconda/miniconda/Miniconda3-latest-Linux-x86_64.sh
#cp /mnt/c/Users/92101/Desktop/Miniconda3-latest-Linux-x86_64.sh ~/miniconda/Miniconda3-latest-Linux-x86_64.sh

 bash Miniconda3-latest-Linux-x86_64.sh
 
 启动conda环境
 source ~/miniconda3/bin/activate
 
 配置镜像站
 conda config --set show_channel_urls yes
 vim ~/.condarc 
 
 内文件复制
 show_channel_urls: true
 default_channels:
  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/
  - https://mirrors.ustc.edu.cn/anaconda/pkgs/free/
  - https://mirrors.ustc.edu.cn/anaconda/pkgs/main/
  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/bioconda/
  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/
  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/r
  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/msys2
  - defaults
 custom_channels:
  conda-forge: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud
  msys2: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud
  bioconda: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud
  menpo: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud
  pytorch: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud
  simpleitk: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud
 
 #在#conda环境下进行bwa的安装
 conda search bwa #确认需要更新的bwa
 conda install bwa -y  #安装更新
 
 #添加软链接
 mkdir -p ~/.local/bin  
 ln -s ~/miniconda3/bin/bwa ~/.local/bin 
 ln -s ~/miniconda3/bin/samtools ~/.local/bin
 
 #查看conda环境
 conda info --envs
 
 创建python3环境
 conda create -n python3 python=3
 
 #启动python3
 conda activate python3
 
 #更新所有包
 conda update --all
 conda install macs2

#python3背景下 安装转录组分析软件
conda install fastqc trimmomatic
conda install hisat2 samtool sra-tools
conda install htseq （似乎只能在python2下运行） #如果不能用  #则参考https://www.jianshu.com/p/9184b7f6157b
